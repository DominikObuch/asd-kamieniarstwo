document.addEventListener("DOMContentLoaded", () => {
    if (document.getElementById("vid") != undefined) {
        document.getElementById('vid').play();
    }
})
for (let i = 0; i < document.getElementsByClassName("link-smooth").length; i++) {
    document.getElementsByClassName("link-smooth")[i].addEventListener('click', function (e) {
        e.preventDefault();

        document.querySelector(this.getAttribute('href')).scrollIntoView({
            behavior: 'smooth'
        });
    });
}
document.getElementById("hamburger").addEventListener("click", function () {
    for (let i = 0; i < document.getElementsByClassName("hamburger").length; i++) {
        document.getElementsByClassName("hamburger")[i].classList.toggle("hamburger__expanded");
    }
})
document.getElementById("contact").addEventListener("click", () => {
    $('#navbarSupportedContent').collapse('hide')
})
let lazyImageEl = document.getElementsByClassName("lazy-image");
let lazyLoadingEl = document.getElementsByClassName("lazy-loading");

let lazyLoadingAnim = (el) => {

    for (let i = 0; i < el.length; i++) {

        if (el[i].offsetTop <= window.innerHeight + window.scrollY) {
            el[i].classList.add("lazy-loaded");


        }
    }
}

let lazyLoadingImg = (imgEl, contEl) => {

    for (let i = 0; i < lazyLoadingEl.length; i++) {
        if (imgEl[i] != undefined) {
            if (contEl[i].offsetTop - 50 <= window.innerHeight + window.scrollY) {
                imgEl[i].src = imgEl[i].dataset.src;
            }
        }

    }
}
var scroll = function () {

    lazyLoadingAnim(lazyLoadingEl);
    lazyLoadingImg(lazyImageEl, lazyLoadingEl)
};
var raf = window.requestAnimationFrame ||
    window.webkitRequestAnimationFrame ||
    window.mozRequestAnimationFrame ||
    window.msRequestAnimationFrame ||
    window.oRequestAnimationFrame;
var $window = window;
var lastScrollTop = $window.pageYOffset;

if (raf) {
    loop();
}

function loop() {
    var scrollTop = $window.pageYOffset;
    if (lastScrollTop === scrollTop) {
        raf(loop);
        return;
    } else {
        lastScrollTop = scrollTop;

        scroll();
        raf(loop);
    }
}

document.addEventListener("DOMContentLoaded", () => {
    lazyLoadingAnim(lazyLoadingEl);
    lazyLoadingImg(lazyImageEl, lazyLoadingEl);
})