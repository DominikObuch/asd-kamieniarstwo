"use strict";

document.addEventListener("DOMContentLoaded", function () {
  if (document.getElementById("vid") != undefined) {
    document.getElementById('vid').play();
  }
});

for (var i = 0; i < document.getElementsByClassName("link-smooth").length; i++) {
  document.getElementsByClassName("link-smooth")[i].addEventListener('click', function (e) {
    e.preventDefault();
    document.querySelector(this.getAttribute('href')).scrollIntoView({
      behavior: 'smooth'
    });
  });
}

document.getElementById("hamburger").addEventListener("click", function () {
  for (var _i = 0; _i < document.getElementsByClassName("hamburger").length; _i++) {
    document.getElementsByClassName("hamburger")[_i].classList.toggle("hamburger__expanded");
  }
});
document.getElementById("contact").addEventListener("click", function () {
  $('#navbarSupportedContent').collapse('hide');
});
var lazyImageEl = document.getElementsByClassName("lazy-image");
var lazyLoadingEl = document.getElementsByClassName("lazy-loading");

var lazyLoadingAnim = function lazyLoadingAnim(el) {
  for (var _i2 = 0; _i2 < el.length; _i2++) {
    if (el[_i2].offsetTop <= window.innerHeight + window.scrollY) {
      el[_i2].classList.add("lazy-loaded");
    }
  }
};

var lazyLoadingImg = function lazyLoadingImg(imgEl, contEl) {
  for (var _i3 = 0; _i3 < lazyLoadingEl.length; _i3++) {
    if (imgEl[_i3] != undefined) {
      if (contEl[_i3].offsetTop - 50 <= window.innerHeight + window.scrollY) {
        imgEl[_i3].src = imgEl[_i3].dataset.src;
      }
    }
  }
};

var scroll = function scroll() {
  lazyLoadingAnim(lazyLoadingEl);
  lazyLoadingImg(lazyImageEl, lazyLoadingEl);
};

var raf = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame;
var $window = window;
var lastScrollTop = $window.pageYOffset;

if (raf) {
  loop();
}

function loop() {
  var scrollTop = $window.pageYOffset;

  if (lastScrollTop === scrollTop) {
    raf(loop);
    return;
  } else {
    lastScrollTop = scrollTop;
    scroll();
    raf(loop);
  }
}

document.addEventListener("DOMContentLoaded", function () {
  lazyLoadingAnim(lazyLoadingEl);
  lazyLoadingImg(lazyImageEl, lazyLoadingEl);
});